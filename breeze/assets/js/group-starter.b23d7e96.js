"use strict";(self["webpackChunkbreeze"]=self["webpackChunkbreeze"]||[]).push([[383],{86227:function(e,t,a){a.r(t),a.d(t,{default:function(){return F}});var s=a(82234);const o=e=>((0,s.pushScopeId)("data-v-0ac633ac"),e=e(),(0,s.popScopeId)(),e),i={viewBox:"0 0 500 500",preserveAspectRatio:"xMinYMin meet"},r={class:"body"},l={class:"logo"},d=["src"],n={key:0},c={class:"text-left"},m={class:"text-left"},p={class:"text-left"},u={class:"text-left"},h={class:"text-left"},w={key:1},g={class:"text-left"},f={class:"text-left"},V={class:"text-left"},N={class:"text-left"},v={key:2},C={style:{width:"100%"},class:"text-left"},y={class:"mt-10 actions-container"},b={class:"copyright"},E=o((()=>(0,s.createElementVNode)("b",null,"edPage",-1)));function x(e,t,a,o,x,$){const k=(0,s.resolveComponent)("Head"),S=(0,s.resolveComponent)("el-step"),_=(0,s.resolveComponent)("el-steps"),A=(0,s.resolveComponent)("el-col"),P=(0,s.resolveComponent)("el-input"),T=(0,s.resolveComponent)("el-row"),D=(0,s.resolveComponent)("el-checkbox"),B=(0,s.resolveComponent)("ArrowLeft"),U=(0,s.resolveComponent)("el-icon"),I=(0,s.resolveComponent)("el-button"),M=(0,s.resolveComponent)("ArrowRight"),R=(0,s.resolveComponent)("el-card");return(0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,null,[(0,s.createVNode)(k,{title:e.$t("installation")},null,8,["title"]),(0,s.createElementVNode)("div",{class:"install-container",style:(0,s.normalizeStyle)(`background: ${e.pickByTheme("#4EC4E3","#282828")}`)},[(0,s.createElementVNode)("div",{class:"header",style:(0,s.normalizeStyle)(`background: ${e.pickByTheme("#4EC4E3","#282828")}`)},[((0,s.openBlock)(),(0,s.createElementBlock)("svg",i,[(0,s.createElementVNode)("path",{d:"M0,100 C150,200 350,0 500,100 L500,00 L0,0 Z",style:(0,s.normalizeStyle)(`stroke: none; fill: ${e.pickByTheme("#259EC0","#4c4c4c")};`)},null,4)]))],4),(0,s.createElementVNode)("div",r,[(0,s.createElementVNode)("div",l,[(0,s.createElementVNode)("img",{src:x.WhiteLogo},null,8,d)]),(0,s.createVNode)(R,null,{default:(0,s.withCtx)((()=>[(0,s.createVNode)(_,{active:x.activeStep,"finish-status":"success","align-center":"",class:"mb-10"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(S,{title:e.$t("database")},null,8,["title"]),(0,s.createVNode)(S,{title:e.$t("administrator")},null,8,["title"]),(0,s.createVNode)(S,{title:e.$t("siteIdentity")},null,8,["title"])])),_:1},8,["active"]),(0,s.createVNode)(T,{gutter:10,class:"mt-10"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(A,{span:8}),(0,s.createVNode)(A,{span:8,class:"center-container"},{default:(0,s.withCtx)((()=>[0===x.activeStep?((0,s.openBlock)(),(0,s.createElementBlock)("div",n,[(0,s.createVNode)(T,{gutter:10,class:"mb-5"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(A,{span:24},{default:(0,s.withCtx)((()=>[(0,s.createElementVNode)("div",c,[(0,s.createElementVNode)("small",null,(0,s.toDisplayString)(e.$t("baseName")),1)]),(0,s.createVNode)(P,{modelValue:x.database.dbname,"onUpdate:modelValue":t[0]||(t[0]=e=>x.database.dbname=e),size:"default",placeholder:e.$t("databaseNameText")},null,8,["modelValue","placeholder"])])),_:1})])),_:1}),(0,s.createVNode)(T,{gutter:10,class:"mb-5"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(A,{span:24},{default:(0,s.withCtx)((()=>[(0,s.createElementVNode)("div",m,[(0,s.createElementVNode)("small",null,(0,s.toDisplayString)(e.$t("user")),1)]),(0,s.createVNode)(P,{modelValue:x.database.username,"onUpdate:modelValue":t[1]||(t[1]=e=>x.database.username=e),size:"default",placeholder:e.$t("databaseUsernameText")},null,8,["modelValue","placeholder"])])),_:1})])),_:1}),(0,s.createVNode)(T,{gutter:10,class:"mb-5"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(A,{span:24},{default:(0,s.withCtx)((()=>[(0,s.createElementVNode)("div",p,[(0,s.createElementVNode)("small",null,(0,s.toDisplayString)(e.$t("password")),1)]),(0,s.createVNode)(P,{modelValue:x.database.password,"onUpdate:modelValue":t[2]||(t[2]=e=>x.database.password=e),size:"default",type:"password",placeholder:e.$t("databasePasswordText")},null,8,["modelValue","placeholder"])])),_:1})])),_:1}),(0,s.createVNode)(T,{gutter:10,class:"mb-5"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(A,{span:24},{default:(0,s.withCtx)((()=>[(0,s.createElementVNode)("div",u,[(0,s.createElementVNode)("small",null,(0,s.toDisplayString)(e.$t("host")),1)]),(0,s.createVNode)(P,{modelValue:x.database.host,"onUpdate:modelValue":t[3]||(t[3]=e=>x.database.host=e),size:"default",placeholder:e.$t("databaseHostText")},null,8,["modelValue","placeholder"])])),_:1})])),_:1}),(0,s.createVNode)(T,{gutter:10,class:"mb-5"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(A,{span:24},{default:(0,s.withCtx)((()=>[(0,s.createElementVNode)("div",h,[(0,s.createElementVNode)("small",null,(0,s.toDisplayString)(e.$t("tablesPrefix")),1)]),(0,s.createVNode)(P,{modelValue:x.database.prefix,"onUpdate:modelValue":t[4]||(t[4]=e=>x.database.prefix=e),size:"default",placeholder:e.$t("tablePrefixText")},null,8,["modelValue","placeholder"])])),_:1})])),_:1})])):1===x.activeStep?((0,s.openBlock)(),(0,s.createElementBlock)("div",w,[(0,s.createVNode)(T,{gutter:10,class:"mb-5"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(A,{span:24},{default:(0,s.withCtx)((()=>[(0,s.createElementVNode)("div",g,[(0,s.createElementVNode)("small",null,(0,s.toDisplayString)(e.$t("id")),1)]),(0,s.createVNode)(P,{modelValue:x.admin.uid,"onUpdate:modelValue":t[5]||(t[5]=e=>x.admin.uid=e),size:"default",placeholder:e.$t("adminId")},null,8,["modelValue","placeholder"]),x.isUidValid?(0,s.createCommentVNode)("",!0):((0,s.openBlock)(),(0,s.createElementBlock)("div",{key:0,class:"form-item-error",style:(0,s.normalizeStyle)(`color: ${e.pickByTheme("var(--el-color-danger)","white")}`)},(0,s.toDisplayString)(e.$t("idUnavailable")),5))])),_:1})])),_:1}),(0,s.createVNode)(T,{gutter:10,class:"mb-5"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(A,{span:24},{default:(0,s.withCtx)((()=>[(0,s.createElementVNode)("div",f,[(0,s.createElementVNode)("small",null,(0,s.toDisplayString)(e.$t("name")),1)]),(0,s.createVNode)(P,{modelValue:x.admin.name,"onUpdate:modelValue":t[6]||(t[6]=e=>x.admin.name=e),size:"default",placeholder:e.$t("adminName")},null,8,["modelValue","placeholder"])])),_:1})])),_:1}),(0,s.createVNode)(T,{gutter:10,class:"mb-5"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(A,{span:24},{default:(0,s.withCtx)((()=>[(0,s.createElementVNode)("div",V,[(0,s.createElementVNode)("small",null,(0,s.toDisplayString)(e.$t("password")),1)]),(0,s.createVNode)(P,{modelValue:x.admin.password,"onUpdate:modelValue":t[7]||(t[7]=e=>x.admin.password=e),size:"default",type:"password",placeholder:e.$t("adminPassword")},null,8,["modelValue","placeholder"])])),_:1})])),_:1}),(0,s.createVNode)(T,{gutter:10,class:"mb-5"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(A,{span:24},{default:(0,s.withCtx)((()=>[(0,s.createElementVNode)("div",N,[(0,s.createElementVNode)("small",null,(0,s.toDisplayString)(e.$t("email")),1)]),(0,s.createVNode)(P,{modelValue:x.admin.email,"onUpdate:modelValue":t[8]||(t[8]=e=>x.admin.email=e),size:"default",type:"email",placeholder:e.$t("adminEmail")},null,8,["modelValue","placeholder"])])),_:1})])),_:1})])):2===x.activeStep?((0,s.openBlock)(),(0,s.createElementBlock)("div",v,[(0,s.createVNode)(T,{gutter:10,class:"mb-5"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(A,{span:24},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(P,{modelValue:x.identity.title,"onUpdate:modelValue":t[9]||(t[9]=e=>x.identity.title=e),size:"default",placeholder:e.$t("websiteTitle")},null,8,["modelValue","placeholder"])])),_:1})])),_:1}),(0,s.createVNode)(T,{gutter:10,class:"mb-10"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(A,{span:24},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(P,{modelValue:x.identity.description,"onUpdate:modelValue":t[10]||(t[10]=e=>x.identity.description=e),size:"default",placeholder:e.$t("websiteDescription"),type:"textarea"},null,8,["modelValue","placeholder"])])),_:1})])),_:1}),(0,s.createVNode)(T,{gutter:10,class:"mt-10"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(A,{span:24},{default:(0,s.withCtx)((()=>[(0,s.createElementVNode)("div",C,[(0,s.createVNode)(D,{modelValue:x.identity.discourageIndexing,"onUpdate:modelValue":t[11]||(t[11]=e=>x.identity.discourageIndexing=e),label:e.$t("discourageSearchEngines"),size:"default"},null,8,["modelValue","label"])])])),_:1})])),_:1})])):(0,s.createCommentVNode)("",!0),(0,s.createElementVNode)("div",y,[(0,s.createVNode)(T,{gutter:10},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(A,{span:12},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(I,{type:"primary",size:"default",style:{width:"100%"},disabled:x.activeStep<=0,onClick:t[12]||(t[12]=e=>$.previous())},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(U,null,{default:(0,s.withCtx)((()=>[(0,s.createVNode)(B)])),_:1}),(0,s.createTextVNode)(" "+(0,s.toDisplayString)(e.$t("previous")),1)])),_:1},8,["disabled"])])),_:1}),(0,s.createVNode)(A,{span:12},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(I,{type:"primary",size:"default",style:{width:"100%"},disabled:!$.dataProvided,loading:x.taskInProgress,onClick:t[13]||(t[13]=e=>$.next())},{default:(0,s.withCtx)((()=>[(0,s.createTextVNode)((0,s.toDisplayString)(x.activeStep>=2?e.$t("save"):e.$t("next"))+" ",1),(0,s.createVNode)(U,null,{default:(0,s.withCtx)((()=>[(0,s.createVNode)(M)])),_:1})])),_:1},8,["disabled","loading"])])),_:1})])),_:1})])])),_:1}),(0,s.createVNode)(A,{span:8})])),_:1})])),_:1})]),(0,s.createElementVNode)("div",{class:"footer",style:(0,s.normalizeStyle)(`background: ${e.pickByTheme("#4EC4E3","#282828")}`)},[(0,s.createElementVNode)("span",b,[(0,s.createTextVNode)(" Â© "),E,(0,s.createTextVNode)(" "+(0,s.toDisplayString)((new Date).getFullYear()),1)])],4)],4)],64)}var $=a(26898),k=a(44001),S=a(39355),_=a(11165),A=a(14340),P=a(69),T=a(18504),D=a(20747),B=a(81101),U=a(115),I=a.n(U),M=a(21101);const R={name:"Installation",components:{Head:B.Z},mixins:[P.Z],data(){return{Logo:k,WhiteLogo:$,activeStep:0,adminCount:0,database:{username:"",password:"",prefix:"",dbname:"",host:""},admin:{uid:"",name:"",password:"",email:""},identity:{title:"",description:"",discourageIndexing:!1},taskInProgress:!1,isUidValid:!0}},computed:{dbConfigDataProvided(){return this.database.username&&this.database.prefix&&this.database.dbname&&this.database.host},adminDataProvided(){return this.adminCount||this.admin.uid&&this.admin.name&&this.admin.password&&this.admin.email&&this.$validator.isEmail(this.admin.email)&&this.isUidValid},dataProvided(){switch(this.activeStep){case 0:return this.dbConfigDataProvided;case 1:return this.adminDataProvided;default:return!0}},cardBgColor(){return this.pickByTheme("white","#4c4c4c")},cardBorderColor(){return this.pickByTheme("white","#4c4c4c")},cardTextColor(){return this.pickByTheme("dimgray","white")}},watch:{"admin.uid":"checkUid"},async created(){this.$route.params.step&&(this.activeStep=Number.isNaN(parseInt(this.$route.params.step))?0:parseInt(this.$route.params.step));const e=await this.fetchDbConfig();e.success&&e.data&&typeof e.data===A.o8.OBJECT&&(this.database=e.data),await this.countAdministrators()},methods:{...(0,M.mapActions)({fetchDbConfig:"setting/fetchDbConfig"}),...(0,M.mapActions)("websiteInfo",["getAllWebsiteInfo","updateWebsiteInfo"]),...(0,M.mapActions)("setting",["getAllSettings","updateSetting"]),...(0,M.mapActions)("user",["checkUser","getAllAdministrators"]),async countAdministrators(){const e=await this.getAllAdministrators();e.success&&(this.adminCount=(e.data||[]).length)},async checkUid(){this.admin.uid=I().sanitize(this.admin.uid.toLowerCase());const e=await this.checkUser(this.admin.uid);this.isUidValid=""===this.admin.uid||e.success&&!e.data},previous(){this.activeStep>=0&&this.activeStep--},async next(){switch(this.taskInProgress=!0,this.activeStep){case 0:{let t;try{t=await this.axios.request({method:"post",baseURL:`${_.APP_BASE_URL}/breeze-server/db-api/`,headers:_.API_REQUEST_HEADERS,data:this.database,url:`/${T.S}/write/db-config`})}catch(e){return this.$message.error(this.$t("unableToConnectToDatabase")),void(this.taskInProgress=!1)}if(!0!==t.data)return await this.countAdministrators(),this.$message.error(this.$t("unableToModifyDbConfig")),void(this.taskInProgress=!1);try{await this.axios.request({method:"post",baseURL:`${_.APP_BASE_URL}/breeze-server/db-api/`,headers:_.API_REQUEST_HEADERS,data:this.database,url:`/${T.S}/write/db-sql`}),await this.countAdministrators()}catch(e){await this.countAdministrators(),this.taskInProgress=!1}}break;case 1:break;case 2:if(!this.isUidValid)return void(this.taskInProgress=!1);if(this.adminCount){if(this.admin.uid&&this.admin.name&&this.admin.email&&this.admin.password&&this.$validator.isEmail(this.admin.email)&&this.isUidValid){const e=await this.addItemInDB({context:D.A,data:{uid:this.admin.uid,name:this.admin.name,email:this.admin.email,access:0,status:A.dp.ENABLED,hash_id:this.$uuidv4(),password:this.admin.password,last_login:(0,S.p6)(new Date,{outPattern:"YYYY-MM-DD hh:mm:ss",locale:this.$i18n.locale})}});this.addNotification({type:this.NotificationTypes.WELCOME,recipients:[e.data],params:{},source:this.NotificationSources.SYSTEM,target:"",removable:!0})}await this.updateManyThings()}else{const e=await this.addItemInDB({context:D.A,data:{uid:this.admin.uid,name:this.admin.name,email:this.admin.email,access:0,status:A.dp.ENABLED,hash_id:this.$uuidv4(),password:this.admin.password,last_login:(0,S.p6)(new Date,{outPattern:"YYYY-MM-DD hh:mm:ss",locale:this.$i18n.locale})}});this.addNotification({type:this.NotificationTypes.WELCOME,recipients:[e.data],params:{},source:this.NotificationSources.SYSTEM,target:"",removable:!0}),e.success?await this.updateManyThings():this.$message.error(this.$t("unableToAddAdminAccount"))}break}this.taskInProgress=!1,this.activeStep<2&&this.activeStep++},async updateManyThings(){await this.updateWebsiteInfo([{name:A.a.TITLE.NAME,value:this.identity.title},{name:A.a.DESCRIPTION.NAME,value:this.identity.description}]),await this.updateSetting({name:A.Zr.DISCOURAGE_INDEXING.NAME,value:this.identity.discourageIndexing?1:0}),await this.getAllWebsiteInfo(),await this.getAllSettings(),this.taskInProgress=!1,this.$router.replace({name:A.Z5.LOGIN.NAME})}}},L=()=>{(0,s.useCssVars)((e=>({ac0f4c2c:e.cardTextColor,"02269ed2":e.cardBgColor,"31d6954b":e.cardBorderColor})))},z=R.setup;R.setup=z?(e,t)=>(L(),z(e,t)):L;var O=R,Z=a(83744);const H=(0,Z.Z)(O,[["render",x],["__scopeId","data-v-0ac633ac"]]);var F=H},44197:function(e,t,a){a.r(t),a.d(t,{default:function(){return H}});var s=a(15625),o=a(80923),i=a(82234);const r=e=>((0,i.pushScopeId)("data-v-3b1d174c"),e=e(),(0,i.popScopeId)(),e),l={viewBox:"0 0 500 500",preserveAspectRatio:"xMinYMin meet"},d={class:"logo"},n=["src"],c={class:"mb-10",style:{display:"flex","align-items":"center","justify-content":"space-around"}},m={class:"remember-me"},p={class:"forget-password"},u={key:1,class:"no-server-alert"},h={style:{cursor:"pointer"}},w={class:"text-left"},g={class:"copyright"},f=r((()=>(0,i.createElementVNode)("b",null,"edPage",-1)));function V(e,t,a,r,V,N){const v=(0,i.resolveComponent)("Head"),C=o.Z,y=s.Z,b=(0,i.resolveComponent)("font-awesome-icon"),E=(0,i.resolveComponent)("el-input"),x=(0,i.resolveComponent)("el-form-item"),$=(0,i.resolveComponent)("el-checkbox"),k=(0,i.resolveComponent)("el-link"),S=(0,i.resolveComponent)("el-button"),_=(0,i.resolveComponent)("el-alert"),A=(0,i.resolveComponent)("el-form"),P=(0,i.resolveComponent)("el-col"),T=(0,i.resolveComponent)("el-row"),D=(0,i.resolveComponent)("el-popover"),B=(0,i.resolveComponent)("ResetPassword"),U=(0,i.resolveComponent)("el-dialog");return(0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,null,[(0,i.createVNode)(v,{title:e.$t("logIn")},null,8,["title"]),(0,i.createElementVNode)("div",{class:"login-container",style:(0,i.normalizeStyle)(`background: ${e.pickByTheme("#4EC4E3","#282828")}`)},[(0,i.createElementVNode)("div",{class:"header",style:(0,i.normalizeStyle)(`background: ${e.pickByTheme("#4EC4E3","#282828")}`)},[((0,i.openBlock)(),(0,i.createElementBlock)("svg",l,[(0,i.createElementVNode)("path",{d:"M0,100 C150,200 350,0 500,100 L500,00 L0,0 Z",style:(0,i.normalizeStyle)(`stroke: none; fill: ${e.pickByTheme("#259EC0","#4c4c4c")};`)},null,4)])),(0,i.createVNode)(C,{class:"theme-btn",style:{position:"absolute",top:"10px",left:"20px"}}),(0,i.createVNode)(y,{class:"lang-btn","btn-type":e.pickByTheme("primary","info"),style:{position:"absolute",top:"10px",right:"20px"}},null,8,["btn-type"])],4),V.checkingAppConfig?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,{key:0},[V.serverIsReachable?((0,i.openBlock)(),(0,i.createBlock)(A,{key:0,ref:"loginForm",model:V.loginForm,rules:V.loginRules,class:"login-form","auto-complete":"on","label-position":"left"},{default:(0,i.withCtx)((()=>[(0,i.createElementVNode)("div",d,[(0,i.createElementVNode)("img",{src:V.WhiteLogo},null,8,n)]),(0,i.createVNode)(x,{prop:"username",size:"large"},{default:(0,i.withCtx)((()=>[(0,i.createVNode)(E,{ref:"username",modelValue:V.loginForm.username,"onUpdate:modelValue":t[0]||(t[0]=e=>V.loginForm.username=e),placeholder:e.$t("username"),type:"text",tabindex:"1",size:"large","auto-complete":"on",onKeyup:(0,i.withKeys)(N.login,["enter"])},{prepend:(0,i.withCtx)((()=>[(0,i.createVNode)(b,{icon:"user"})])),_:1},8,["modelValue","placeholder","onKeyup"])])),_:1}),(0,i.createVNode)(x,{prop:"password",size:"large"},{default:(0,i.withCtx)((()=>[(0,i.createVNode)(E,{ref:"password",modelValue:V.loginForm.password,"onUpdate:modelValue":t[1]||(t[1]=e=>V.loginForm.password=e),placeholder:e.$t("password"),type:"password",tabindex:"2","show-password":"",size:"large","auto-complete":"on",onKeyup:(0,i.withKeys)(N.login,["enter"])},{prepend:(0,i.withCtx)((()=>[(0,i.createVNode)(b,{icon:"lock"})])),_:1},8,["modelValue","placeholder","onKeyup"])])),_:1}),(0,i.createElementVNode)("div",c,[(0,i.createElementVNode)("div",m,[(0,i.createVNode)($,{modelValue:V.rememberMe,"onUpdate:modelValue":t[2]||(t[2]=e=>V.rememberMe=e),label:e.$t("rememberMe"),size:"default"},null,8,["modelValue","label"])]),(0,i.createElementVNode)("div",p,[(0,i.createVNode)(k,{onClick:t[3]||(t[3]=e=>V.resetPasswordDialog=!0)},{default:(0,i.withCtx)((()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("passwordForgotten"))+" ?",1)])),_:1})])]),(0,i.createVNode)(S,{size:"large",type:"primary",loading:V.checkingCredentials,class:"login-btn mt-10 mb-10",onClick:(0,i.withModifiers)(N.login,["prevent"])},{default:(0,i.withCtx)((()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("logIn")),1)])),_:1},8,["loading","onClick"]),e.devMode?((0,i.openBlock)(),(0,i.createBlock)(_,{key:0,"show-icon":"",center:!0,closable:!1,title:e.$t("devModeEnabled"),type:"info"},null,8,["title"])):(0,i.createCommentVNode)("",!0)])),_:1},8,["model","rules"])):((0,i.openBlock)(),(0,i.createElementBlock)("div",u,[(0,i.createVNode)(_,{"show-icon":"",type:"error",effect:"light",closable:!1,title:e.$t("serverIsUnreachable")},{default:(0,i.withCtx)((()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("unableToConnect")+".")+" ",1),(0,i.createVNode)(D,{placement:"bottom",width:300,trigger:"click"},{reference:(0,i.withCtx)((()=>[(0,i.createElementVNode)("u",h,(0,i.toDisplayString)(e.$t("editServerAddress")),1)])),default:(0,i.withCtx)((()=>[(0,i.createVNode)(T,{gutter:10},{default:(0,i.withCtx)((()=>[(0,i.createVNode)(P,{span:24},{default:(0,i.withCtx)((()=>[(0,i.createElementVNode)("div",w,[(0,i.createElementVNode)("small",null,[(0,i.createElementVNode)("b",null,(0,i.toDisplayString)(e.$t("apisFolderBaseUrl")),1)])])])),_:1})])),_:1}),(0,i.createVNode)(T,{gutter:10},{default:(0,i.withCtx)((()=>[(0,i.createVNode)(P,{span:18},{default:(0,i.withCtx)((()=>[(0,i.createVNode)(E,{modelValue:V.devModeBaseUrl,"onUpdate:modelValue":t[4]||(t[4]=e=>V.devModeBaseUrl=e),size:"default"},null,8,["modelValue"])])),_:1}),(0,i.createVNode)(P,{span:6},{default:(0,i.withCtx)((()=>[(0,i.createVNode)(S,{size:"default",type:"primary",icon:"check",style:{width:"100%"},disabled:!V.devModeBaseUrl,onClick:t[5]||(t[5]=e=>N.submitConfigData())},null,8,["disabled"])])),_:1})])),_:1})])),_:1})])),_:1},8,["title"])]))],64)),(0,i.createElementVNode)("div",{class:"footer",style:(0,i.normalizeStyle)(`background: ${e.pickByTheme("#4EC4E3","#282828")}`)},[(0,i.createElementVNode)("span",g,[(0,i.createTextVNode)(" Â© "),f,(0,i.createTextVNode)(" "+(0,i.toDisplayString)((new Date).getFullYear()),1)])],4)],4),(0,i.createVNode)(U,{modelValue:V.resetPasswordDialog,"onUpdate:modelValue":t[6]||(t[6]=e=>V.resetPasswordDialog=e),top:"15vh"},{default:(0,i.withCtx)((()=>[(0,i.createVNode)(B)])),_:1},8,["modelValue"])],64)}var N=a(26898),v=a(44001),C=a(39355),y=a(11165),b=a(14340),E=a(98761),x=a(18504),$=a(20747),k=a(81101);const S=e=>((0,i.pushScopeId)("data-v-1535637c"),e=e(),(0,i.popScopeId)(),e),_={class:"text-center"},A=S((()=>(0,i.createElementVNode)("div",{class:"icon-container"},[(0,i.createElementVNode)("i",{class:"mgc_refresh_2_line"}),(0,i.createElementVNode)("i",{class:"mgc_lock_fill"})],-1))),P={class:"form-container"},T=S((()=>(0,i.createElementVNode)("br",null,null,-1)));function D(e,t,a,s,o,r){const l=(0,i.resolveComponent)("el-button"),d=(0,i.resolveComponent)("el-tooltip"),n=(0,i.resolveComponent)("el-input"),c=(0,i.resolveComponent)("el-form-item"),m=(0,i.resolveComponent)("el-form"),p=(0,i.resolveDirective)("loading");return(0,i.withDirectives)(((0,i.openBlock)(),(0,i.createElementBlock)("section",_,[A,(0,i.createElementVNode)("div",P,[(0,i.createVNode)(m,{ref:"form",model:o.form,rules:o.rules,"label-position":"top"},{default:(0,i.withCtx)((()=>[(0,i.createVNode)(c,{prop:"idOrEmail"},{default:(0,i.withCtx)((()=>[(0,i.createVNode)(n,{modelValue:o.form.idOrEmail,"onUpdate:modelValue":t[2]||(t[2]=e=>o.form.idOrEmail=e),placeholder:e.$t("idOrEmail")},{append:(0,i.withCtx)((()=>[(0,i.createVNode)(d,{modelValue:o.showTooltip,"onUpdate:modelValue":t[1]||(t[1]=e=>o.showTooltip=e),effect:"light",manual:!1,placement:"right"},{content:(0,i.withCtx)((()=>[(0,i.createElementVNode)("span",null,(0,i.toDisplayString)(e.$t("resetPasswordMessage_1")),1),T,(0,i.createElementVNode)("span",null,(0,i.toDisplayString)(e.$t("resetPasswordMessage_2")),1)])),default:(0,i.withCtx)((()=>[(0,i.createVNode)(l,{icon:"info-filled",onClick:t[0]||(t[0]=e=>o.showTooltip=!o.showTooltip)})])),_:1},8,["modelValue"])])),_:1},8,["modelValue","placeholder"])])),_:1}),(0,i.createVNode)(l,{type:"primary",style:{width:"100%"},loading:o.isProceeding,onClick:t[3]||(t[3]=e=>r.submitForm())},{default:(0,i.withCtx)((()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("resetPassword")),1)])),_:1},8,["loading"])])),_:1},8,["model","rules"])])])),[[p,o.isLoading]])}var B=a(92829),U=a(66354),I=a(21101),M={name:"ResetPassword",mixins:[U.Z],data(){return{users:[],isLoading:!1,showTooltip:!1,isProceeding:!1,form:{idOrEmail:""},rules:{idOrEmail:[{required:!0,message:this.$t("fieldRequired"),trigger:"blur"}]},appName:"Breeze"}},created(){this.init()},methods:{...(0,I.mapActions)("user",["getAllUsers"]),async init(){this.isLoading=!0;const e=await this.getAllUsers();e.success&&e.data&&(this.users=e.data),this.isLoading=!1},submitForm(){this.$refs.form.validate((async e=>{if(!e)return!1;if(this.isProceeding=!0,this.$validator.isEmail(this.form.idOrEmail)){const e=this.users.find((e=>e.email==this.form.idOrEmail));e?await this.proceed(e):this.$message.error(this.$t("emailNotAssociatedWithAnyAccount"))}else{const e=this.users.find((e=>e.uid==this.form.idOrEmail));e?e.email?await this.proceed(e):this.$message.error(this.$t("noEmailDefinedForThisAccount")):this.$message.error(this.$t("idNotAssociatedWithAnyAccount"))}this.isProceeding=!1}))},async proceed(e){const t=(0,B.PM)(13,{symbols:!0}),a=await this.sendEmail(null,`${this.$t("passwordReset")} - ${this.appName}`,`${this.$t("passwordReset")} - ${this.appName}`,`<small>${this.$t("passwordSuccessfullyReset")}. <br> ${this.$t("urNewPasswordIs")} : <b>${t}</b></small>`,e.email);if(a){const a=await this.updateItemInDB({context:$.A,id:e.id,data:{password:t,last_login:null}});a.success?(this.$message.success(this.$t("passwordResetSuccess")),this.form.idOrEmail=""):this.$message.error(this.$t("resetFailed"))}else this.$message.error(this.$t("emailAddressNotFound"))}}},R=a(83744);const L=(0,R.Z)(M,[["render",D],["__scopeId","data-v-1535637c"]]);var z=L,O={name:"Login",components:{ResetPassword:z,Head:k.Z},mixins:[E.Z],data(){const e=(e,t,a)=>{t?a():a(new Error(this.$t("idRequired")))},t=(e,t,a)=>{t?a():a(new Error(this.$t("passwordRequired")))};return{loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:t}]},sessionExpiredMessage:null,checkingCredentials:!1,resetPasswordDialog:!1,checkingAppConfig:!1,serverIsReachable:!1,rememberMe:!1,WhiteLogo:N,Logo:v,devModeBaseUrl:"",database:{username:"",password:"",prefix:"",dbname:"",host:""}}},computed:{...(0,I.mapGetters)({isUserConnected:"session/isUserConnected"}),dividerBgColor(){return this.pickByTheme("white","#282828")},dividerTextColor(){return this.pickByTheme("#303133","whitesmoke")}},created(){this.$isMobile()&&this.$router.replace(b.Z5.NO_MOBILE_SUPPORT.PATH),this.checkEverything()},methods:{...(0,I.mapMutations)("session",["updateUserData","updateConnected","updateRememberMe","updateSessionExpired","updateDevModeBaseUrl"]),...(0,I.mapMutations)("global",["updateRedirectToPanelPath"]),...(0,I.mapActions)({getUserByCredentials:"authentication/getUserByCredentials",getAllAdministrators:"user/getAllAdministrators",fetchDbConfig:"setting/fetchDbConfig"}),async checkEverything(){this.isUserConnected&&(this.$store.state.global.previousRouteName?this.updateRedirectToPanelPath(!1):this.updateRedirectToPanelPath(!0),this.$router.replace(b.Z5.HOME.PATH)),this.devModeBaseUrl=this.devMode&&this.$store.state.session.devModeBaseUrl||y.APP_BASE_URL,this.checkingAppConfig=!0;const e=this.$loading({lock:!0,text:this.$t("loading"),background:"rgba(0, 0, 0, 0.8)"});this.axios.request({method:"get",baseURL:this.devModeBaseUrl+"/breeze-server/db-api/",headers:y.API_REQUEST_HEADERS,url:`/${x.S}/check/server`}).then((t=>{this.axios.request({method:"get",baseURL:this.devModeBaseUrl+"/breeze-server/db-api/",headers:y.API_REQUEST_HEADERS,data:this.database,url:`/${x.S}/check/database`}).then((async t=>{if(!0===t.data){const t=await this.getAllAdministrators();let a=0;t.success&&(a=(t.data||[]).length),e.close(),a?(this.checkingAppConfig=!1,this.serverIsReachable=!0,this.$store.state.session.sessionExpired&&(this.sessionExpiredMessage=this.$message({message:this.$t("sessionExpired"),showClose:!0,type:"error",duration:0}),this.updateSessionExpired(!1))):this.$router.replace({name:b.Z5.INSTALL.NAME,params:{step:1}})}else e.close(),this.$router.replace({name:b.Z5.INSTALL.NAME})})).catch((t=>{e.close(),this.$router.replace({name:b.Z5.INSTALL.NAME})}))})).catch((t=>{this.checkingAppConfig=!1,this.serverIsReachable=!1,e.close()}));const t=await this.fetchDbConfig();t.success&&t.data&&typeof t.data===b.o8.OBJECT&&(this.database=t.data)},submitConfigData(){this.axios.request({method:"get",baseURL:this.devModeBaseUrl+"/breeze-server/db-api/",headers:y.API_REQUEST_HEADERS,url:`/${x.S}/check/server`}).then((e=>{this.updateDevModeBaseUrl(this.devModeBaseUrl),location.reload()})).catch((e=>{this.$message.error(this.$t("unableToConnectToServerOn",[this.devModeBaseUrl]))}))},async login(){this.$refs.loginForm.validate((async e=>{if(!e)return!1;{this.checkingCredentials=!0;const e=await this.getUserByCredentials({username:this.loginForm.username?.trim(),password:this.loginForm.password});e.success?e.data.username&&e.data.password&&e.data.user?e.data.user.status==b.dp.ENABLED?(this.updateConnected(!0),this.updateSessionExpired(!1),this.updateUserData(e.data.user),this.updateRememberMe(this.rememberMe),this.sessionExpiredMessage&&this.sessionExpiredMessage.close(),this.changeNewAccountsPasswords?e.data.user.last_login?await this.openHome(e.data.user):this.$router.replace(b.Z5.CHANGE_PASSWORD.PATH):await this.openHome(e.data.user)):this.$message.warning(this.$t("disabledAccount")):e.data.username?this.$message.error(this.$t("wrongPassword")):this.$message.error(this.$t("userDontExist")):this.$message.error(this.$t("anErrorOccured")),this.checkingCredentials=!1}}))},async openHome(e){await this.updateItemInDB({context:$.A,id:e.id,data:{last_login:(0,C.p6)(new Date,{outPattern:"YYYY-MM-DD hh:mm:ss",locale:this.$i18n.locale})}}),this.updateRedirectToPanelPath(!0),this.$router.replace(b.Z5.HOME.PATH)}}};const Z=(0,R.Z)(O,[["render",V],["__scopeId","data-v-3b1d174c"]]);var H=Z},26997:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});var s=a(82234);const o={class:"change-password-container"},i={class:"title-container"},r={class:"title"},l={class:"svg-container"},d={class:"svg-container"};function n(e,t,a,n,c,m){const p=(0,s.resolveComponent)("Head"),u=(0,s.resolveComponent)("font-awesome-icon"),h=(0,s.resolveComponent)("el-input"),w=(0,s.resolveComponent)("el-form-item"),g=(0,s.resolveComponent)("el-button"),f=(0,s.resolveComponent)("el-form"),V=(0,s.resolveComponent)("el-card");return(0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,null,[(0,s.createVNode)(p,{title:e.$t("changePassword")},null,8,["title"]),(0,s.createElementVNode)("div",o,[(0,s.createVNode)(V,{class:"change-password-card"},{default:(0,s.withCtx)((()=>[(0,s.createElementVNode)("div",i,[(0,s.createElementVNode)("h3",r,(0,s.toDisplayString)(e.$t("chooseNewPassword")),1)]),(0,s.createVNode)(f,{ref:"form",model:c.form,rules:c.rules,class:"change-password-form","auto-complete":"on","label-position":"center"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(w,{prop:"password"},{default:(0,s.withCtx)((()=>[(0,s.createElementVNode)("span",l,[(0,s.createVNode)(u,{icon:"lock"})]),((0,s.openBlock)(),(0,s.createBlock)(h,{ref:"password",key:c.passwordType,modelValue:c.form.password,"onUpdate:modelValue":t[0]||(t[0]=e=>c.form.password=e),type:c.passwordType,placeholder:e.$t("password"),name:"password",tabindex:"2","auto-complete":"on",onKeyup:(0,s.withKeys)(m.submit,["enter"])},null,8,["modelValue","type","placeholder","onKeyup"])),(0,s.createElementVNode)("span",{class:"show-pwd",onClick:t[1]||(t[1]=(...e)=>m.showPwd&&m.showPwd(...e))},[(0,s.createVNode)(u,{icon:"password"===c.passwordType?"eye-slash":"eye"},null,8,["icon"])])])),_:1}),(0,s.createVNode)(w,{prop:"password"},{default:(0,s.withCtx)((()=>[(0,s.createElementVNode)("span",d,[(0,s.createVNode)(u,{icon:"lock"})]),((0,s.openBlock)(),(0,s.createBlock)(h,{ref:"confirm-password",key:c.passwordType+"_",modelValue:c.form.confirmPassword,"onUpdate:modelValue":t[2]||(t[2]=e=>c.form.confirmPassword=e),type:c.passwordType,placeholder:e.$t("confirmPassword"),name:"confirm-password",tabindex:"2","auto-complete":"on",onKeyup:(0,s.withKeys)(m.submit,["enter"])},null,8,["modelValue","type","placeholder","onKeyup"]))])),_:1}),(0,s.createVNode)(g,{round:"",type:"primary",loading:c.inProgress,class:"change-password-btn mt-10 mb-10",onClick:(0,s.withModifiers)(m.submit,["prevent"])},{default:(0,s.withCtx)((()=>[(0,s.createTextVNode)((0,s.toDisplayString)(e.$t("validate")),1)])),_:1},8,["loading","onClick"])])),_:1},8,["model","rules"])])),_:1})])],64)}var c=a(39355),m=a(14340),p=a(20747),u=a(81101),h={name:"ChangePassword",components:{Head:u.Z},data(){return{form:{password:"",confirmPassword:""},rules:{password:[{required:!0,message:this.$t("fieldRequired"),trigger:"blur"}],confirmPassword:[{required:!0,message:this.$t("fieldRequired"),trigger:"blur"}]},passwordType:"password",inProgress:!1}},methods:{submit(){this.$refs.form.validate((async e=>{if(!e)return!1;{if(this.form.password.length<6)return this.$message.warning(this.$t("passwordTooShort")),!1;if(this.form.password!==this.form.confirmPassword)return this.$message.warning(this.$t("passwordsDoesNotMatch")),!1;this.inProgress=!0;const e=await this.updateItemInDB({context:p.A,id:this.userData.id,data:{password:this.form.password}});e.success?(this.$message.success(this.$t("success")),await this.updateItemInDB({context:p.A,id:this.userData.id,data:{last_login:(0,c.p6)(new Date,{outPattern:"YYYY-MM-DD hh:mm:ss",locale:this.$i18n.locale})}}),setTimeout((()=>{this.$router.replace(m.Z5.HOME.PATH)}),1e3)):this.$message.error(this.$t("anErrorOccured")),this.inProgress=!1}}))},showPwd(){this.passwordType="password"===this.passwordType?"":"password",this.$nextTick((()=>{this.$refs.password.focus()}))}}},w=a(83744);const g=(0,w.Z)(h,[["render",n],["__scopeId","data-v-00f28b59"]]);var f=g},26885:function(e,t,a){a.r(t),a.d(t,{default:function(){return E}});var s=a(82234);const o=e=>((0,s.pushScopeId)("data-v-7d03d053"),e=e(),(0,s.popScopeId)(),e),i={class:"header"},r={key:0,class:"sudo-container",style:{padding:"30px"}},l={class:"text-left"},d={style:{color:"white"}},n=o((()=>(0,s.createElementVNode)("br",null,null,-1))),c={class:"text-left"},m={class:"text-right"},p={class:"text-left"},u={class:"text-right"},h={key:1,class:"sudo-container"},w={class:"svg-container"};function g(e,t,a,o,g,f){const V=(0,s.resolveComponent)("Head"),N=(0,s.resolveComponent)("el-button"),v=(0,s.resolveComponent)("el-col"),C=(0,s.resolveComponent)("el-alert"),y=(0,s.resolveComponent)("el-row"),b=(0,s.resolveComponent)("el-switch"),E=(0,s.resolveComponent)("el-card"),x=(0,s.resolveComponent)("el-input"),$=(0,s.resolveComponent)("font-awesome-icon"),k=(0,s.resolveComponent)("el-form-item"),S=(0,s.resolveComponent)("el-form");return(0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,null,[(0,s.createVNode)(V,{title:e.$t("superUser")},null,8,["title"]),(0,s.createElementVNode)("div",i,[(0,s.createVNode)(N,{type:"primary",size:"default",icon:"close",plain:"",onClick:t[0]||(t[0]=t=>e.$router.replace(g.Routes.LOGIN.PATH))},{default:(0,s.withCtx)((()=>[(0,s.createTextVNode)((0,s.toDisplayString)(e.$t("quit")),1)])),_:1})]),g.showContent?((0,s.openBlock)(),(0,s.createElementBlock)("div",r,[(0,s.createVNode)(y,{align:"middle"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(v,{span:8},{default:(0,s.withCtx)((()=>[(0,s.createElementVNode)("div",l,[(0,s.createElementVNode)("h3",d,(0,s.toDisplayString)(e.$t("advancedSettings")),1)])])),_:1}),(0,s.createVNode)(v,{span:16},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(C,{title:e.$t("appSettingsInfo"),closable:!1,effect:"dark",type:"info","show-icon":""},null,8,["title"])])),_:1})])),_:1}),n,(0,s.createVNode)(y,{gutter:10,class:"mb-5"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(v,{span:12},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(E,{shadow:"hover",class:"mb-5 settings-card"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(y,{align:"middle"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(v,{span:20},{default:(0,s.withCtx)((()=>[(0,s.createElementVNode)("div",c,[(0,s.createElementVNode)("h5",null,(0,s.toDisplayString)(e.$t("showUsersPasswordsInUserList")),1)])])),_:1}),(0,s.createVNode)(v,{span:4},{default:(0,s.withCtx)((()=>[(0,s.createElementVNode)("div",m,[(0,s.createVNode)(b,{modelValue:g.showUsersPasswords,"onUpdate:modelValue":t[1]||(t[1]=e=>g.showUsersPasswords=e),width:70,style:{display:"block"},"active-color":e.appPrimaryColor,"inactive-color":e.appAccentColor},null,8,["modelValue","active-color","inactive-color"])])])),_:1})])),_:1})])),_:1})])),_:1}),(0,s.createVNode)(v,{span:12},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(E,{shadow:"hover",class:"mb-5 settings-card"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(y,{align:"middle"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(v,{span:20},{default:(0,s.withCtx)((()=>[(0,s.createElementVNode)("div",p,[(0,s.createElementVNode)("h5",null,(0,s.toDisplayString)(e.$t("changeNewAccountsPasswords")),1)])])),_:1}),(0,s.createVNode)(v,{span:4},{default:(0,s.withCtx)((()=>[(0,s.createElementVNode)("div",u,[(0,s.createVNode)(b,{modelValue:g.changeNewAccountsPasswords,"onUpdate:modelValue":t[2]||(t[2]=e=>g.changeNewAccountsPasswords=e),width:70,style:{display:"block"},"active-color":e.appPrimaryColor,"inactive-color":e.appAccentColor},null,8,["modelValue","active-color","inactive-color"])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])):((0,s.openBlock)(),(0,s.createElementBlock)("div",h,[(0,s.createVNode)(E,{class:"sudo-card"},{default:(0,s.withCtx)((()=>[(0,s.createVNode)(S,{ref:"form",model:g.form,rules:g.rules,class:"sudo-form","auto-complete":"on","label-position":"left"},{default:(0,s.withCtx)((()=>[(0,s.withDirectives)((0,s.createVNode)(x,{ref:"hidden",modelValue:g.form.hidden,"onUpdate:modelValue":t[3]||(t[3]=e=>g.form.hidden=e)},null,8,["modelValue"]),[[s.vShow,!1]]),(0,s.createVNode)(k,{prop:"password"},{default:(0,s.withCtx)((()=>[(0,s.createElementVNode)("span",w,[(0,s.createVNode)($,{icon:"lock"})]),((0,s.openBlock)(),(0,s.createBlock)(x,{ref:"password",key:g.passwordType,modelValue:g.form.password,"onUpdate:modelValue":t[4]||(t[4]=e=>g.form.password=e),type:g.passwordType,placeholder:e.$t("password"),name:"password",tabindex:"2","auto-complete":"on",onKeyup:(0,s.withKeys)(f.submit,["enter"])},null,8,["modelValue","type","placeholder","onKeyup"])),(0,s.createElementVNode)("span",{class:"show-pwd",onClick:t[5]||(t[5]=(...e)=>f.showPwd&&f.showPwd(...e))},[(0,s.createVNode)($,{icon:"password"===g.passwordType?"eye-slash":"eye"},null,8,["icon"])])])),_:1}),(0,s.createVNode)(N,{round:"",type:"primary",loading:g.inProgress,class:"sudo-btn mt-10 mb-10",onClick:(0,s.withModifiers)(f.submit,["prevent"])},{default:(0,s.withCtx)((()=>[(0,s.createTextVNode)((0,s.toDisplayString)(e.$t("validate")),1)])),_:1},8,["loading","onClick"])])),_:1},8,["model","rules"])])),_:1})]))],64)}var f=a(14340),V=a(98761),N=a(81101),v=a(21101),C={name:"Sudo",components:{Head:N.Z},mixins:[V.Z],data(){return{Routes:f.Z5,form:{password:"",hidden:""},rules:{password:[{required:!0,message:this.$t("fieldRequired"),trigger:"blur"}]},passwordType:"password",showContent:!1,inProgress:!1,showUsersPasswords:!1,changeNewAccountsPasswords:!1}},computed:{...(0,v.mapGetters)({getSettingValue:"setting/getSettingValue"})},watch:{showUsersPasswords:{handler(e,t){this.updateEnable(f.Zr.SHOW_USERS_PASSWORDS.NAME,e)}},changeNewAccountsPasswords:{handler(e,t){this.updateEnable(f.Zr.CHANGE_NEW_ACCOUNTS_PASSWORDS.NAME,e)}}},created(){(!this.userData||parseInt(this.userData.access)>0)&&this.$router.replace(f.Z5.LOGIN.PATH),this.showUsersPasswords=this.getSettingValue(f.Zr.SHOW_USERS_PASSWORDS.NAME,f.o8.BOOLEAN),this.changeNewAccountsPasswords=this.getSettingValue(f.Zr.CHANGE_NEW_ACCOUNTS_PASSWORDS.NAME,f.o8.BOOLEAN)},methods:{...(0,v.mapActions)("setting",["getAllSettings","updateSetting"]),submit(){this.$refs.form.validate((async e=>{if(!e)return!1;this.inProgress=!0,this.showContent=this.form.password==this.suPassword,this.showContent||this.$message.error(this.$t("wrongPassword")),this.inProgress=!1}))},showPwd(){this.passwordType="password"===this.passwordType?"":"password",this.$nextTick((()=>{this.$refs.password.focus()}))},async updateEnable(e,t){await this.updateSetting({name:e,value:t?1:0}),await this.getAllSettings()}}},y=a(83744);const b=(0,y.Z)(C,[["render",g],["__scopeId","data-v-7d03d053"]]);var E=b},44001:function(e,t,a){e.exports=a.p+"assets/img/breeze-logo.91733a1b.svg"}}]);
//# sourceMappingURL=group-starter.b23d7e96.js.map